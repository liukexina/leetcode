<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <script>

  var maxSubArray = function(nums) {
    // 内存不足
    // let arr = [];
    // let max = -9999;
    // for(let i = 0 ; i < nums.length ; i++) {
    //   let sum = 0;
    //   for(let j = 0 ; j <= i ; j++) {
    //     sum = sum + nums[j];
    //   }
    //   if(sum > max) max = sum
    //   arr[i] = [sum];
    // }
    // for(let i = 0 ; i < nums.length ; i++) {
    //   for(let j = 1 ; j < nums.length ; j++) {
    //     if(i >= j) {    
    //       arr[i][j] = arr[i][j-1] - nums[j-1]
    //     } else {
    //       arr[i][j] = arr[i][j - 1] + nums[j]
    //     }
    //     if(arr[i][j] > max) max = arr[i][j]
    //   }
    // }
    // return max
    const arr = [nums[0]]
    let max = nums[0]
    for(let i = 1 ; i < nums.length ; i++) {
      if(arr[i-1] <= 0 ){
        arr[i] = nums[i] + 0;
      } else {
        arr[i] = arr[i - 1] + nums[i] 
      }
      max = Math.max(arr[i], max)
    }
    console.log(arr)
    return max;
  };
  console.log(maxSubArray([-2,1,-3,4,-1,2,1,-5,4]))
  </script>
</body>
</html>
