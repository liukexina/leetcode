# 1～n 整数中 1 出现的次数

## 题目
输入一个整数 n ，求1～n这n个整数的十进制表示中1出现的次数。

例如，输入12，1～12这些整数中包含1 的数字有1、10、11和12，1一共出现了5次。

示例 1：
```
输入：n = 12
输出：5
```
示例 2：
```
输入：n = 13
输出：6
``` 

限制：
```
1 <= n < 2^31
```

## 解答
```js
function countDigitOne(n) {
  let digit = 1;
  res = 0;
  let high = parseInt(n / 10);
  let low = 0;
  cur = n % 10;
  while (high !== 0 || cur != 0) {
    if (cur === 0) {
      res = res + high * digit;
    } else if (cur === 1) {
      res = res + high * digit + low + 1;
    } else {
      res = res + high * digit + digit;
    }
    low = low + cur * digit;
    cur = high % 10;
    high = parseInt(high / 10);
    digit = digit * 10;
  }
  return res;
}
```

以数字2304为例，若当前位为十位（base = 10），则当前位数0，高位数23，低位数4

1. 当前位等于0情况，则可理解有两部分组成0~2299和2300~2304；若固定当前位位1，则前半段组合为[0~22]1[0~9]，次数为230=23*10（high*base）；后半部组合十位只能取0，无法满足固定为1计算前提，次数为0
2. 同理，若数字为2314，当前位等于1情况，优先拆分为0~2299和2300~2314；若固定当前位位1，则前半段组合为[0~22]1[0~9]，次数为230=23*10（high*base）；后半部组合231[0~4]，次数为5（low+1）
3. 同理，若数字为2324，当前位大于1情况，优先拆分为0~2299和2300~2324；若固定当前位位1，则前半段组合为[0~22]1[0~9]，次数为230=23*10（high*base）；后半部组合231[0~9]，次数为10（base）